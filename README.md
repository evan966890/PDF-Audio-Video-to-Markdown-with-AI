# ğŸ“„ğŸµğŸ¬ PDF-Audio-video2Markdown

> ğŸ¤– **Universal AI Skill** for Claude Code / Cursor / Antigravity / Windsurf and more

[![Claude Code](https://img.shields.io/badge/Claude_Code-Compatible-8A2BE2?logo=anthropic&logoColor=white)](https://claude.ai)
[![Cursor](https://img.shields.io/badge/Cursor-Compatible-00DC82?logo=cursor&logoColor=white)](https://cursor.com)
[![Antigravity](https://img.shields.io/badge/Antigravity-Compatible-FF6B6B)](https://antigravity.dev)
[![Windsurf](https://img.shields.io/badge/Windsurf-Compatible-0EA5E9)](https://windsurf.ai)

[![Python 3.10-3.12](https://img.shields.io/badge/Python-3.10--3.12-3776AB?logo=python&logoColor=white)](https://www.python.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![GitHub stars](https://img.shields.io/github/stars/evan966890/PDF-Audio-video2Markdown?style=social)](https://github.com/evan966890/PDF-Audio-video2Markdown)
[![GitHub forks](https://img.shields.io/github/forks/evan966890/PDF-Audio-video2Markdown?style=social)](https://github.com/evan966890/PDF-Audio-video2Markdown)

---

**ğŸ‡¨ğŸ‡³ ä¸­æ–‡** | **ğŸ‡ºğŸ‡¸ English below**

å°† PDF / éŸ³é¢‘ / è§†é¢‘ / å›¾åƒ **æ™ºèƒ½è½¬æ¢**ä¸º Markdown æ–‡æœ¬ï¼Œç‰¹åˆ«é€‚åˆ**ä¼šè®®å½•å±è½¬æ–‡å­—**åœºæ™¯ã€‚

Intelligently convert PDF, Audio, Video & Images to Markdown text, especially optimized for **meeting recordings transcription**.

---

## ğŸ“‹ Table of Contents

- [Why This Tool](#-why-this-tool)
- [Features](#-features)
- [Privacy & Security](#-privacy--security)
- [System Requirements](#-system-requirements)
- [Quick Start](#-quick-start)
- [IDE Integration](#-ide-integration)
- [Usage](#-usage)
- [Supported Formats](#-supported-formats)
- [Architecture](#-architecture)
- [FAQ](#-faq)
- [Roadmap](#-roadmap)
- [Contributing](#-contributing)
- [Acknowledgments](#-acknowledgments)

---

## ğŸ¯ Why This Tool

| Pain Point ç—›ç‚¹ | Solution è§£å†³æ–¹æ¡ˆ |
|----------------|------------------|
| ä¼šè®®å½•å±æ— æ³•æœç´¢ã€å›é¡¾è€—æ—¶ | è‡ªåŠ¨è½¬å†™ä¸ºå¯æœç´¢çš„ Markdown |
| æ‰«æç‰ˆ PDF æ— æ³•å¤åˆ¶æ–‡å­— | æ™ºèƒ½ OCR è‡ªåŠ¨è¯†åˆ« |
| éŸ³è§†é¢‘æ–‡ä»¶å¤ªå¤§å¯¼è‡´å†…å­˜æº¢å‡º | è‡ªåŠ¨åˆ†æ®µå¤„ç†ï¼Œ30ç§’ä¸€æ®µ |
| ç¯å¢ƒé…ç½®å¤æ‚ã€ä¾èµ–éš¾è£… | ä¸€é”®è‡ªåŠ¨å®‰è£…ï¼Œå†…ç½®é‡è¯•æœºåˆ¶ |
| ä¸åŒ IDE éœ€è¦ä¸åŒé…ç½® | é€šç”¨ Skill æ ¼å¼ï¼Œä¸€æ¬¡ç¼–å†™åˆ°å¤„ä½¿ç”¨ |

---

## âœ¨ Features

| Feature | åŠŸèƒ½ | Description |
|---------|------|-------------|
| ğŸ”„ **Multi-format** | å¤šæ ¼å¼æ”¯æŒ | PDF, Audio (MP3/WAV/M4A), Video (MP4/AVI/MKV), Images (PNG/JPG) |
| ğŸ§  **Smart OCR** | æ™ºèƒ½OCR | Auto-detect scanned vs text PDF, process accordingly |
| ğŸ¬ **Meeting Ready** | ä¼šè®®ä¼˜åŒ– | Optimized for meeting recordings and screen captures |
| ğŸ“¦ **Chunked Processing** | åˆ†æ®µå¤„ç† | Auto-chunk large files to prevent OOM |
| ğŸ” **Auto Retry** | è‡ªåŠ¨é‡è¯• | Built-in retry mechanism (3x per file, 10x for E2E) |
| ğŸ”’ **Fully Offline** | å®Œå…¨ç¦»çº¿ | All processing done locally, privacy protected |
| âš¡ **Zero Config** | é›¶é…ç½® | Auto-install dependencies, works out of the box |
| ğŸŒ **Portable** | å¯ç§»æ¤ | Copy to any machine, no absolute paths |

---

## ğŸ”’ Privacy & Security | éšç§ä¸å®‰å…¨

> **ğŸ›¡ï¸ 100% Local Processing - Your Data Never Leaves Your Machine**
>
> **ğŸ›¡ï¸ 100% æœ¬åœ°å¤„ç† - æ‚¨çš„æ•°æ®æ°¸è¿œä¸ä¼šç¦»å¼€æ‚¨çš„ç”µè„‘**

| Guarantee ä¿éšœ | Description è¯´æ˜ |
|---------------|-----------------|
| âœ… **No Cloud Upload** | All transcription and OCR runs entirely on your local machine æ‰€æœ‰è½¬å†™å’ŒOCRå®Œå…¨åœ¨æœ¬åœ°ç”µè„‘è¿è¡Œ |
| âœ… **No Internet Required** | Works completely offline after initial setup åˆæ¬¡é…ç½®åå®Œå…¨ç¦»çº¿å·¥ä½œ |
| âœ… **No Data Collection** | Zero telemetry, no usage tracking æ— é¥æµ‹ï¼Œæ— ä½¿ç”¨è¿½è¸ª |
| âœ… **Your Files Stay Local** | Input files are never sent anywhere è¾“å…¥æ–‡ä»¶ä¸ä¼šè¢«å‘é€åˆ°ä»»ä½•åœ°æ–¹ |
| âœ… **Open Source** | Full code transparency, audit anytime å®Œå…¨å¼€æºé€æ˜ï¼Œéšæ—¶å¯å®¡è®¡ |

**Perfect for é€‚ç”¨äºï¼š**
- ğŸ¢ Corporate confidential meetings ä¼ä¸šæœºå¯†ä¼šè®®
- ğŸ¥ Healthcare/Medical records åŒ»ç–—å¥åº·è®°å½•
- âš–ï¸ Legal documents æ³•å¾‹æ–‡ä»¶
- ğŸ” Any sensitive content ä»»ä½•æ•æ„Ÿå†…å®¹

---

## ğŸ’» System Requirements | ç³»ç»Ÿè¦æ±‚

### Minimum Requirements | æœ€ä½é…ç½®

| Component ç»„ä»¶ | Minimum æœ€ä½è¦æ±‚ | Recommended æ¨èé…ç½® |
|---------------|-----------------|---------------------|
| **OS æ“ä½œç³»ç»Ÿ** | Windows 10 / macOS 10.15 / Ubuntu 18.04 | Windows 11 / macOS 12+ / Ubuntu 22.04 |
| **Python** | 3.10 (required) | 3.11 or 3.12 |
| **RAM å†…å­˜** | 8 GB | 16 GB+ |
| **Storage å­˜å‚¨** | 5 GB free (for models) | 10 GB+ SSD |
| **CPU å¤„ç†å™¨** | 4 cores | 8+ cores |
| **GPU æ˜¾å¡** | Not required éå¿…éœ€ | NVIDIA GPU (optional, for faster ASR) |

### Notes | æ³¨æ„äº‹é¡¹

- **First-time setup**: Will download ~2GB of AI models (FunASR, RapidOCR)
  
  **é¦–æ¬¡é…ç½®**ï¼šå°†ä¸‹è½½çº¦ 2GB çš„ AI æ¨¡å‹ï¼ˆFunASRã€RapidOCRï¼‰

- **Large files**: For videos >1 hour, recommend 16GB+ RAM
  
  **å¤§æ–‡ä»¶å¤„ç†**ï¼šå¤„ç†è¶…è¿‡1å°æ—¶çš„è§†é¢‘ï¼Œå»ºè®® 16GB+ å†…å­˜

- **FFmpeg**: Required for audio/video processing (auto-detected, manual install if missing)
  
  **FFmpeg**ï¼šéŸ³è§†é¢‘å¤„ç†å¿…éœ€ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼Œå¦‚ç¼ºå¤±éœ€æ‰‹åŠ¨å®‰è£…ï¼‰

---

## ğŸš€ Quick Start

### 3 Steps to Get Started | ä¸‰æ­¥å¼€å§‹

**Step 1: Clone to IDE Skills Folder | å…‹éš†åˆ° IDE æŠ€èƒ½ç›®å½•**

```bash
# Claude Code
git clone https://github.com/evan966890/PDF-Audio-video2Markdown.git ~/.claude/skills/PDF-Audio-video2Markdown

# Cursor
git clone https://github.com/evan966890/PDF-Audio-video2Markdown.git ~/.cursor/skills/PDF-Audio-video2Markdown

# Antigravity
git clone https://github.com/evan966890/PDF-Audio-video2Markdown.git ~/.antigravity/skills/PDF-Audio-video2Markdown

# Windsurf
git clone https://github.com/evan966890/PDF-Audio-video2Markdown.git ~/.windsurf/skills/PDF-Audio-video2Markdown

# Or project-level (any IDE) | æˆ–é¡¹ç›®çº§åˆ«ï¼ˆä»»æ„ IDEï¼‰
git clone https://github.com/evan966890/PDF-Audio-video2Markdown.git your-project/.claude/skills/PDF-Audio-video2Markdown
```

**Step 2: Ask AI to Setup | è®© AI å¸®ä½ é…ç½®**

Simply tell your AI assistant in natural language (no manual commands needed!):

åªéœ€ç”¨è‡ªç„¶è¯­è¨€å‘Šè¯‰ä½ çš„ AI åŠ©æ‰‹ï¼ˆæ— éœ€æ‰‹åŠ¨è¾“å…¥å‘½ä»¤ï¼ï¼‰ï¼š

> ğŸ—£ï¸ **English**: "Please install all dependencies for the PDF-Audio-video2Markdown skill"
> 
> ğŸ—£ï¸ **ä¸­æ–‡**: "è¯·å¸®æˆ‘å®‰è£… PDF-Audio-video2Markdown è¿™ä¸ªæŠ€èƒ½çš„æ‰€æœ‰ä¾èµ–"

The AI will automatically run `setup_environment.py` and configure everything for you!

AI ä¼šè‡ªåŠ¨æ‰§è¡Œç¯å¢ƒé…ç½®è„šæœ¬ï¼Œä¸ºä½ å®Œæˆæ‰€æœ‰ä¾èµ–å®‰è£…ï¼

**Step 3: Use It | å¼€å§‹ä½¿ç”¨**

Tell your AI what you want to process:

å‘Šè¯‰ AI ä½ æƒ³å¤„ç†ä»€ä¹ˆï¼š

> ğŸ—£ï¸ **English**: "Please transcribe the meeting.mp4 file in my Downloads folder"
>
> ğŸ—£ï¸ **ä¸­æ–‡**: "è¯·æŠŠæˆ‘ä¸‹è½½æ–‡ä»¶å¤¹é‡Œçš„ meeting.mp4 è½¬æˆæ–‡å­—"

**That's it! No manual commands needed!**

**å°±è¿™ä¹ˆç®€å•ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥ä»»ä½•å‘½ä»¤ï¼**

---

## ğŸ”§ IDE Integration

This skill works with **any AI-powered IDE** that supports the skill format.

æ­¤æŠ€èƒ½é€‚ç”¨äº**ä»»ä½•æ”¯æŒ skill æ ¼å¼çš„ AI é©±åŠ¨ IDE**ã€‚

| IDE | User-level Path | Project-level Path |
|-----|-----------------|-------------------|
| Claude Code | `~/.claude/skills/` | `.claude/skills/` |
| Cursor | `~/.cursor/skills/` | `.cursor/skills/` |
| Antigravity | `~/.antigravity/skills/` | `.antigravity/skills/` |
| Windsurf | `~/.windsurf/skills/` | `.windsurf/skills/` |
| Other IDEs | Check IDE docs | Check IDE docs |

> **Note**: The skill follows the standard `SKILL.md` format, compatible with most AI-powered IDEs.
>
> **æ³¨æ„**ï¼šæœ¬æŠ€èƒ½éµå¾ªæ ‡å‡† `SKILL.md` æ ¼å¼ï¼Œå…¼å®¹å¤§å¤šæ•° AI é©±åŠ¨çš„ IDEã€‚

---

## ğŸ“– Usage

### Process Single File | å¤„ç†å•ä¸ªæ–‡ä»¶

```bash
python scripts/process_file.py <file_path> [output_dir]

# Examples ç¤ºä¾‹
python scripts/process_file.py ./input/meeting.mp4
python scripts/process_file.py ./input/report.pdf ./output
python scripts/process_file.py ./input/screenshot.png
```

### Batch Processing | æ‰¹é‡å¤„ç†

```bash
python scripts/process_all.py [input_dir] [output_dir]

# Example ç¤ºä¾‹
python scripts/process_all.py ./input ./output
```

### End-to-End Test | ç«¯åˆ°ç«¯æµ‹è¯•

```bash
python scripts/run_e2e_test.py
```

Interactive test that:
- Auto-configures environment
- Asks for test directory
- Retries until success (max 10 times)

---

## ğŸ“ Supported Formats

| Type ç±»å‹ | Formats æ ¼å¼ | Use Case é€‚ç”¨åœºæ™¯ |
|----------|-------------|------------------|
| ğŸ¬ Video | MP4, AVI, MKV, MOV | Meeting recordings, tutorials |
| ğŸµ Audio | MP3, WAV, M4A, FLAC | Voice memos, interviews |
| ğŸ“„ PDF | PDF (text/scanned) | Documents, reports, books |
| ğŸ–¼ï¸ Image | PNG, JPG, JPEG, TIFF | Screenshots, scanned pages |

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Input File è¾“å…¥æ–‡ä»¶                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               File Type Detection æ–‡ä»¶ç±»å‹æ£€æµ‹                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Smart Router æ™ºèƒ½è·¯ç”±                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PDF è·¯ç”±   â”‚  Audio è·¯ç”±  â”‚  Video è·¯ç”±  â”‚   Image è·¯ç”±   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Textå±‚â”‚Scannedâ”‚Small â”‚ Large â”‚Extract Audio â”‚     OCR        â”‚
â”‚      â”‚       â”‚      â”‚Chunkedâ”‚              â”‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PyMuPDF    â”‚    FunASR    â”‚    pydub     â”‚   RapidOCR     â”‚
â”‚   RapidOCR   â”‚              â”‚   FunASR     â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Markdown Output è¾“å‡º Markdown                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Processing Strategies | å¤„ç†ç­–ç•¥

| Scenario åœºæ™¯ | Strategy ç­–ç•¥ | Speed é€Ÿåº¦ |
|--------------|---------------|-----------|
| PDF with text layer | Direct extract ç›´æ¥æå– | ~0.1s/page |
| Scanned PDF | OCR per page | ~2s/page |
| Audio â‰¤10MB | Direct transcribe | Fast |
| Audio >10MB | 30s chunked | Stable |
| Video | Extract audio â†’ Transcribe | Depends on length |

---

## â“ FAQ

<details>
<summary><b>Python version error / Python ç‰ˆæœ¬é”™è¯¯</b></summary>

```
[FAIL] Python 3.13 ç‰ˆæœ¬è¿‡é«˜
```

**Solution**: Install Python 3.10-3.12, or use `py -3.12` to specify version.

</details>

<details>
<summary><b>Chinese garbled text on Windows / Windows ä¸­æ–‡ä¹±ç </b></summary>

```powershell
$env:PYTHONIOENCODING='utf-8'
python scripts/process_file.py ...
```

</details>

<details>
<summary><b>Out of memory / å†…å­˜ä¸è¶³</b></summary>

Large files are auto-chunked. If still failing, edit `scripts/process_file.py`:

```python
AUDIO_CHUNK_DURATION_SEC = 15  # Reduce chunk size
```

</details>

<details>
<summary><b>FFmpeg not found</b></summary>

Install FFmpeg:
- **Windows**: `winget install FFmpeg` or download from [ffmpeg.org](https://ffmpeg.org)
- **macOS**: `brew install ffmpeg`
- **Linux**: `sudo apt install ffmpeg`

</details>

More FAQ: See `references/troubleshooting.md`

---

## ğŸ—ºï¸ Roadmap

- [x] PDF text extraction & OCR
- [x] Audio/Video transcription (FunASR)
- [x] Smart routing & chunked processing
- [x] Auto environment setup
- [x] Multi-IDE support (Claude Code, Cursor, etc.)
- [ ] Speaker diarization (who said what)
- [ ] Timestamp alignment
- [ ] Table extraction from PDF
- [ ] GPU acceleration support
- [ ] Web UI interface
- [ ] Docker container

**Have ideas?** [Open an issue](https://github.com/evan966890/PDF-Audio-video2Markdown/issues)!

---

## ğŸ¤ Contributing

We welcome contributions! æ¬¢è¿è´¡çŒ®ï¼

See [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

### Quick Contribution Guide

1. Fork the repo
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'Add amazing feature'`
4. Push: `git push origin feature/amazing-feature`
5. Open a Pull Request

### Contributors

<!-- readme: contributors -start -->
<!-- readme: contributors -end -->

---

## ğŸ“œ License

MIT License - see [LICENSE](LICENSE)

---

## ğŸ‘¤ Author | ä½œè€…

**evan966890**

- Email: evan966890@gmail.com
- GitHub: [@evan966890](https://github.com/evan966890)

---

## ğŸ™ Acknowledgments

| Project | Usage |
|---------|-------|
| [PyMuPDF](https://github.com/pymupdf/PyMuPDF) | PDF text extraction |
| [RapidOCR](https://github.com/RapidAI/RapidOCR) | OCR engine (ONNX) |
| [FunASR](https://github.com/alibaba-damo-academy/FunASR) | Speech recognition |
| [pydub](https://github.com/jiaaro/pydub) | Audio processing |

---

<p align="center">
  <b>â­ Star this repo if you find it useful! â­</b>
  <br>
  <b>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç‚¹ä¸ª Starï¼</b>
</p>
